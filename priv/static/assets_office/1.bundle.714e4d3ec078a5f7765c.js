webpackJsonp([1],{122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=b(n(0)),a=b(n(9)),o=n(4),r=b(n(11));b(n(18));n(130);var l,s,c=b(n(132)),d=b(n(135)),u=b(n(7)),f=b(n(25)),p=b(n(46)),h=b(n(10)),m=b(n(5)),g=b(n(24));function b(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function k(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=(0,o.observer)(s=function(e){function t(){var e,n;w(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=k(this,(e=S(t)).call.apply(e,[this].concat(a)))).state={deleteConfirm:!1},n.showDeleteConfirm=function(){n.setState({deleteConfirm:!0})},n.hideDeleteConfirm=function(){n.setState({deleteConfirm:!1})},n.confirmDelete=function(){m.default.delete()},n.cancelDelete=function(){n.deleteConfirm.handleClose()},n.handleChange=function(e,t){m.default.set(e,t),g.default.update(m.default.serialized).then(function(e){m.default.set("timezone_offset",e.data.timezone_offset)}).catch(function(e){})},n}return E(t,u.default),_(t,[{key:"render",value:function(){var e=this,t=m.default.user,n=this.state.deleteConfirm;return i.default.createElement("main",{className:"v-settings u-fs u-fade-in"},i.default.createElement(a.default,null,i.default.createElement("title",null,this.b("navbar.settings"))),i.default.createElement("h1",null,this.b("navbar.settings")," â€¢ ",t.id),h.default.isAvailable&&i.default.createElement("section",{className:"u-fade-in fscale lost-ext"},i.default.createElement("h2",null,this.s("Settings.lost_ext")),i.default.createElement("div",{className:"actions"},i.default.createElement("button",{className:"u-default-button green",onClick:h.default.installExtension},this.b("actions.install")," PostTrack"))),i.default.createElement("section",{className:"u-fade-in fscale interface-settings"},i.default.createElement("h2",null,this.s("Settings.interface.header")),i.default.createElement("div",{className:"u-paper"},i.default.createElement(c.default,{items:r.default.availableLocales.map(function(t){return{id:t,name:e.b("locales.".concat(t))}}),label:this.s("Settings.interface.locale.label"),hint:this.s("Settings.interface.locale.hint"),header:this.s("Settings.interface.locale.header"),defaultSelected:t.locale,key:t.locale,onChange:function(t){return e.handleChange("locale",t)},renderBefore:function(e){return i.default.createElement("img",{className:"u-flag",src:"/static_office/images/flags/".concat(e,".png"),alt:e})}}),i.default.createElement(c.default,{items:h.default.timezones,renderKey:"text",label:this.s("Settings.interface.timezone.label"),hint:this.s("Settings.interface.timezone.hint"),header:this.s("Settings.interface.timezone.header"),defaultSelected:t.timezone,key:t.timezone,onChange:function(t){return e.handleChange("timezone",t)},searchable:!0}))),i.default.createElement("section",{className:"u-fade-in fscale lost-ext nohide"},i.default.createElement("div",{className:"actions"},i.default.createElement("button",{className:"u-default-button purple-light",onClick:m.default.exit},this.b("actions.exit")," PostTrack Office")),i.default.createElement("div",{className:"actions",style:{marginTop:40}},i.default.createElement("button",{className:"u-default-button red",onClick:this.showDeleteConfirm},this.b("actions.delete_account_header")))),n&&i.default.createElement(p.default,{header:this.b("actions.delete_account_header"),onClose:this.hideDeleteConfirm,ref:function(t){return e.deleteConfirm=t},className:"unsubscribe-confirm"},i.default.createElement("p",null,this.b("actions.delete_account_text")),i.default.createElement("div",{className:"actions"},i.default.createElement("button",{className:"u-default-button red-light",onClick:this.confirmDelete},this.b("actions.yes")),i.default.createElement("button",{className:"u-default-button green",onClick:this.cancelDelete},this.b("actions.no")))))}}]),t}())||s;t.default=O;(0,o.observer)(l=function(e){function t(){var e,n;w(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=k(this,(e=S(t)).call.apply(e,[this].concat(a)))).state={loading:[]},n.proOnly=["link_opened","link_opened_again","email_opened_again","push_email_read_again","push_link_opened","push_link_opened_again"],n.keys=["plan_changed","email_read","email_opened_again","link_opened","link_opened_again","push_email_read","push_email_read_again","push_link_opened","push_link_opened_again"],n.handleChange=function(e,t){m.default.setNotification(e,t),n.setLoading(e),g.default.update(m.default.serialized).then(function(t){n.removeLoading(e)}).catch(function(i){m.default.setNotification(e,!t),n.removeLoading(e)})},n.setLoading=function(e){var t=y(n.state.loading);t.push(e),n.setState({loading:t})},n.removeLoading=function(e){var t=y(n.state.loading);t.splice(t.indexOf(e),1),n.setState({loading:t})},n}return E(t,u.default),_(t,[{key:"render",value:function(){var e=this,t=m.default.user,n=m.default.isPro;return i.default.createElement("section",{className:"u-fade-in fscale email-notifications-settings"},i.default.createElement("h2",null,this.s("Settings.notifications.header")),i.default.createElement("div",{className:"u-paper"},this.keys.map(function(a){var o=e.proOnly.includes(a)&&!n,r=t.notification_settings[a],l=e.state.loading.includes(a);return i.default.createElement("div",{className:"switch-row",key:a},l&&i.default.createElement("div",{className:"loading u-fade-in"},i.default.createElement(f.default,{small:!0})),i.default.createElement("label",null,e.s("Settings.notifications.".concat(a))),o?i.default.createElement("div",{className:"switch-placeholder"},e.b("ptc.only_for")," ",i.default.createElement("span",{className:"u-pricing-badge pro"})):i.default.createElement(d.default,{state:r,onChange:function(t){return e.handleChange(a,t)},disabled:e.state.loading.includes(a)}))})))}}]),t}())},130:function(e,t,n){var i=n(131);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(120)(i,a);i.locals&&(e.exports=i.locals)},131:function(e,t,n){(e.exports=n(119)(!1)).push([e.i,"main.v-settings > section {\n  margin-top: 60px; }\n  @media (max-width: 729px) {\n    main.v-settings > section {\n      margin-top: 40px; } }\n  main.v-settings > section:nth-of-type(1) {\n    animation-delay: 120ms; }\n  main.v-settings > section:nth-of-type(2) {\n    animation-delay: 240ms; }\n  main.v-settings > section:nth-of-type(3) {\n    animation-delay: 360ms; }\n  main.v-settings > section:nth-of-type(4) {\n    animation-delay: 480ms; }\n  main.v-settings > section:nth-of-type(5) {\n    animation-delay: 600ms; }\n  main.v-settings > section h2 {\n    margin-bottom: 20px; }\n  main.v-settings > section div.actions {\n    text-align: center; }\n  main.v-settings > section div.u-paper {\n    max-width: 600px;\n    padding: 20px;\n    margin: 0 auto; }\n    @media (max-width: 729px) {\n      main.v-settings > section div.u-paper {\n        padding: 10px; } }\n\n@media (max-width: 1199px) {\n  main.v-settings section.lost-ext:not(.nohide) {\n    display: none; } }\n\nmain.v-settings section.email-notifications-settings div.switch-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 10px;\n  margin-bottom: 10px;\n  border-bottom: 1px solid rgba(116, 87, 213, 0.12);\n  height: 50px;\n  position: relative; }\n  @media (max-width: 729px) {\n    main.v-settings section.email-notifications-settings div.switch-row {\n      height: auto;\n      padding: 10px; } }\n  main.v-settings section.email-notifications-settings div.switch-row:last-child {\n    margin-bottom: 0;\n    border-bottom: none; }\n  main.v-settings section.email-notifications-settings div.switch-row div.loading {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(255, 255, 255, 0.54);\n    z-index: 12; }\n  main.v-settings section.email-notifications-settings div.switch-row label {\n    flex-grow: 1;\n    flex-shrink: 1;\n    font-size: 15px;\n    font-weight: 500;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis; }\n    main.v-settings section.email-notifications-settings div.switch-row label span.translation-placeholder {\n      max-width: 120px; }\n      main.v-settings section.email-notifications-settings div.switch-row label span.translation-placeholder:before {\n        top: 8px;\n        bottom: 8px; }\n    @media (max-width: 729px) {\n      main.v-settings section.email-notifications-settings div.switch-row label {\n        white-space: normal;\n        padding-right: 10px;\n        font-size: 14px; } }\n  main.v-settings section.email-notifications-settings div.switch-row div.switch-placeholder {\n    flex-grow: 0;\n    flex-shrink: 0;\n    font-size: 12px; }\n    main.v-settings section.email-notifications-settings div.switch-row div.switch-placeholder span {\n      margin-left: 10px; }\n  main.v-settings section.email-notifications-settings div.switch-row div.c-switch {\n    flex-grow: 0;\n    flex-shrink: 0; }\n",""])},132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(0)),a=u(n(1)),o=n(4);n(133);var r,l,s,c=u(n(7)),d=u(n(46));function u(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=(0,o.observer)((s=l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,m(t).call(this,e))).showList=function(){n.setState({listShowed:!0})},n.hideList=function(){n.setState({listShowed:!1}),n.resetSemiSelected()},n.setSemiSelected=function(e){n.setState({semiSelected:e})},n.resetSemiSelected=function(){n.setState({semiSelected:n.state.selected})},n.handleConfirm=function(){n.state.selected!=n.state.semiSelected&&(n.setState({selected:n.state.semiSelected}),n.props.onChange(n.state.semiSelected)),n.modal.handleClose()},n.state={listShowed:!1,selected:e.defaultSelected,semiSelected:e.defaultSelected,query:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,c.default),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.state.query.toUpperCase(),n=this.props.renderKey;return i.default.createElement("div",{className:"c-select"},this.props.label&&i.default.createElement("label",null,this.props.label),i.default.createElement("div",{className:"selected",onClick:this.showList},this.selected?i.default.createElement("span",null,this.props.renderBefore(this.selected.id),this.selected[n]):i.default.createElement("span",{className:"u-disabled"},this.props.placeholder),i.default.createElement("img",{src:"/static_office/images/icons/k-arrow-down_purple.svg",alt:"k-arrow-down"})),this.props.hint&&i.default.createElement("p",{className:"hint"},this.props.hint),this.state.listShowed&&i.default.createElement(d.default,{ref:function(t){return e.modal=t},onClose:this.hideList,header:this.props.header},i.default.createElement("p",{className:"description"},this.props.hint),this.props.searchable&&i.default.createElement("input",{placeholder:this.b("email_picker.search"),type:"search",onInput:function(t){return e.setState({query:t.target.value})}}),i.default.createElement("ul",{className:"items-list"},this.props.items.map(function(a){var o=a.id==e.state.semiSelected;return a.id.toUpperCase().includes(t)||a[n].toUpperCase().includes(t)?i.default.createElement("li",{key:a.id,onClick:function(){return e.setSemiSelected(a.id)},className:o?"selected":""},e.props.renderBefore(a.id),a[n]):null})),i.default.createElement("div",{className:"actions"},i.default.createElement("button",{className:"u-default-button green",onClick:this.handleConfirm},this.b("actions.confirm_long")))))}},{key:"selected",get:function(){var e=this;return this.props.items.find(function(t){return t.id==e.state.selected})}}]),t}(),l.propTypes={items:o.PropTypes.arrayOrObservableArrayOf(a.default.shape({id:a.default.oneOfType([a.default.number,a.default.string]).isRequired})),label:a.default.node,hint:a.default.node,renderKey:a.default.string,placeholder:a.default.node,defaultSelected:a.default.oneOfType([a.default.number,a.default.string]),onChange:a.default.func,searchable:a.default.bool,renderBefore:a.default.func},l.defaultProps={placeholder:"Nothing selected",renderKey:"name",onChange:function(){},renderBefore:function(){return null}},r=s))||r;t.default=b},133:function(e,t,n){var i=n(134);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(120)(i,a);i.locals&&(e.exports=i.locals)},134:function(e,t,n){(e.exports=n(119)(!1)).push([e.i,"div.c-select {\n  margin-bottom: 20px; }\n  div.c-select:last-child {\n    margin-bottom: 0; }\n    @media (max-width: 729px) {\n      div.c-select:last-child {\n        margin-bottom: 20px; } }\n  div.c-select label {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    display: block;\n    padding: 0 10px;\n    line-height: 30px;\n    font-size: 18px;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.54); }\n    div.c-select label span.translation-placeholder {\n      max-width: 120px; }\n      div.c-select label span.translation-placeholder:before {\n        top: 12px;\n        bottom: 12px; }\n  div.c-select div.selected {\n    height: 50px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-radius: 3px;\n    background: rgba(116, 87, 213, 0.12);\n    cursor: pointer;\n    transition: background 450ms cubic-bezier(0.23, 1, 0.32, 1); }\n    div.c-select div.selected:hover {\n      background: rgba(116, 87, 213, 0.24); }\n    div.c-select div.selected span {\n      padding: 0 10px;\n      flex-grow: 1;\n      flex-shrink: 1;\n      font-size: 16px;\n      font-weight: 500;\n      color: #7457d5;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start; }\n      div.c-select div.selected span .u-flag {\n        margin-right: 10px; }\n    div.c-select div.selected img:not(.u-flag) {\n      width: 50px;\n      height: 50px;\n      flex-grow: 0;\n      flex-shrink: 0;\n      padding: 13px; }\n  div.c-select p.hint {\n    padding: 10px 10px 0 10px;\n    color: rgba(0, 0, 0, 0.54);\n    font-size: 15px;\n    font-weight: 500; }\n  div.c-select p.description {\n    color: rgba(0, 0, 0, 0.54);\n    margin-bottom: 20px;\n    font-size: 15px;\n    font-weight: 500; }\n  div.c-select input[type=search] {\n    line-height: 40px;\n    margin-bottom: 20px;\n    background: rgba(116, 87, 213, 0.12);\n    color: #7457d5;\n    padding: 0 10px;\n    border-radius: 3px;\n    display: block;\n    width: 100%;\n    font-size: 15px;\n    font-weight: 500; }\n    div.c-select input[type=search]::-webkit-input-placeholder {\n      color: rgba(116, 87, 213, 0.38); }\n    div.c-select input[type=search]::-webkit-placeholder {\n      color: rgba(116, 87, 213, 0.38); }\n    div.c-select input[type=search]::-ms-input-placeholder {\n      color: rgba(116, 87, 213, 0.38); }\n    div.c-select input[type=search]::-moz-placeholder {\n      color: rgba(116, 87, 213, 0.38); }\n    div.c-select input[type=search]::placeholder {\n      color: rgba(116, 87, 213, 0.38); }\n  div.c-select ul.items-list {\n    overflow: auto;\n    max-height: 480px;\n    border-radius: 3px;\n    background: rgba(116, 87, 213, 0.06);\n    box-shadow: 0 0 0 1px rgba(116, 87, 213, 0.38); }\n    div.c-select ul.items-list::-webkit-scrollbar {\n      width: 10px;\n      height: 10px; }\n    div.c-select ul.items-list::-webkit-scrollbar-track {\n      background: rgba(116, 87, 213, 0.38); }\n    div.c-select ul.items-list::-webkit-scrollbar-thumb {\n      background: rgba(116, 87, 213, 0.38); }\n      div.c-select ul.items-list::-webkit-scrollbar-thumb:hover {\n        background: rgba(116, 87, 213, 0.54); }\n    @media (max-width: 729px) {\n      div.c-select ul.items-list {\n        max-height: 180px; } }\n    div.c-select ul.items-list li {\n      line-height: 40px;\n      border-bottom: 1px solid rgba(116, 87, 213, 0.12);\n      padding: 0 10px;\n      cursor: pointer;\n      color: rgba(116, 87, 213, 0.72);\n      transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1);\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      font-weight: 500; }\n      div.c-select ul.items-list li:hover {\n        background: rgba(116, 87, 213, 0.06);\n        color: #7457d5; }\n      div.c-select ul.items-list li:last-child {\n        border-bottom: none; }\n      div.c-select ul.items-list li.selected {\n        background: rgba(116, 87, 213, 0.12);\n        color: #7457d5;\n        font-weight: 700; }\n      div.c-select ul.items-list li .u-flag {\n        margin-right: 10px; }\n  div.c-select div.actions {\n    text-align: center;\n    margin-top: 20px; }\n",""])},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(0)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(136);var u=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=s(this,(e=c(t)).call.apply(e,[this].concat(a)))).toggleSwitch=function(){n.props.disabled||n.props.onChange(!n.props.state)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.default.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"c-switch ".concat(this.props.state?"switched":""),onClick:this.toggleSwitch},i.default.createElement("div",{className:"switch-thumb"}))}}]),t}();t.default=u,u.propTypes={state:a.default.bool,disabled:a.default.bool,onChange:a.default.func},u.defaultProps={state:!1,onChange:function(){}}},136:function(e,t,n){var i=n(137);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(120)(i,a);i.locals&&(e.exports=i.locals)},137:function(e,t,n){(e.exports=n(119)(!1)).push([e.i,"div.c-switch {\n  display: inline-block;\n  vertical-align: top;\n  width: 60px;\n  height: 30px;\n  background: rgba(148, 148, 148, 0.12);\n  border-radius: 15px;\n  padding: 2px;\n  cursor: pointer;\n  transition: background 450ms cubic-bezier(0.23, 1, 0.32, 1); }\n  div.c-switch:hover {\n    background: rgba(148, 148, 148, 0.24); }\n  div.c-switch div.switch-thumb {\n    width: 26px;\n    height: 26px;\n    border-radius: 50%;\n    background: #949494;\n    opacity: .38;\n    transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1); }\n  div.c-switch.switched {\n    background: rgba(46, 204, 113, 0.12); }\n    div.c-switch.switched:hover {\n      background: rgba(46, 204, 113, 0.24); }\n    div.c-switch.switched div.switch-thumb {\n      opacity: 1;\n      transform: translateX(30px);\n      background: #2ecc71; }\n",""])}});