{"version":3,"sources":["js/app.js","js/locale-dropdown.js","js/mobile-menu.js","js/switch.js","js/video-modal.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDA;AAAA","file":"../priv/static/js/app.js","sourcesContent":["\"use strict\";\n\nrequire(\"./locale-dropdown\");\n\nrequire(\"./mobile-menu\");\n\nrequire(\"./switch\");\n\nrequire(\"./video-modal\");\n","\"use strict\";\n\nvar dropdown = document.getElementById(\"localeSelect\");\n\nfunction showLocalesList(event) {\n\tevent.stopPropagation();\n\tgetList().classList.remove(\"hidden\");\n}\n\nfunction hideLocalesList() {\n\tgetList().classList.add(\"hidden\");\n}\n\nfunction getList() {\n\treturn dropdown.querySelector(\".ls-list\");\n}\n\ndropdown.children[0].addEventListener(\"click\", showLocalesList);\ndocument.addEventListener(\"click\", hideLocalesList);\n","\"use strict\";\n\nvar mmbutton = document.getElementById(\"menuButton\");\nvar menuWrapper = document.getElementById(\"mainMenu\");\n\nmmbutton.addEventListener(\"click\", toggleMobileMenu);\n\nfunction toggleMobileMenu() {\n\tmenuWrapper.classList.toggle(\"visible\");\n}\n","\"use strict\";\n\nvar _switch = document.getElementById(\"switch\");\nvar switchValue = true;\n\nfunction toggleSwitch() {\n\tif (switchValue) {\n\t\tswitchValue = false;\n\t\t_switch.parentElement.classList.add(\"monthly\");\n\t} else {\n\t\tswitchValue = true;\n\t\t_switch.parentElement.classList.remove(\"monthly\");\n\t}\n}\n\nif (_switch) {\n\t_switch.addEventListener(\"click\", toggleSwitch);\n}\n\nfunction click(e) {\n\tvar target = e.target;\n\tvar a = document.createElement(\"a\");\n\tvar plan = target.getAttribute(\"data-plan\") === \"trial\" ? \"trial\" : target.getAttribute(\"data-plan\") + \"_\" + (switchValue ? \"year\" : \"month\");\n\ta.href = \"/auth/google?state=\" + window.pricingStates[plan];\n\ta.click();\n}\n\nArray.from(document.querySelectorAll(\".main-action\")).forEach(function (el) {\n\treturn el.addEventListener(\"click\", click);\n});\n","\"use strict\";\n\n// getting \"show video\" buttons\nvar videoButtons = document.getElementsByClassName(\"subaction\");\n\n// remembering count of button, just in case\nvar vbLength = videoButtons.length;\n\n// creating variable for modal DOM instance\nvar modal;\n\n// page locale; can be (and, probably, should be) fetched from somewhere, e. g. from html lang attribute\nvar locale = document.documentElement.getAttribute(\"lang\") || \"ru\";\n\n// setting event listeners\nfor (var i = 0; i < vbLength; i++) {\n\tvar item = videoButtons[i];\n\titem.addEventListener(\"click\", showVideoModal.bind(undefined, item.getAttribute(\"data-type\")));\n}\n\n/**\n * Creates and appends video modal to the body\n * @param {string} type a type of video to show\n */\nfunction showVideoModal(type) {\n\tmodal = document.createElement(\"div\");\n\tmodal.setAttribute(\"class\", \"pt-video-modal\");\n\tmodal.innerHTML = \"\\n\\t\\t<div class=\\\"vm-inner-wrapper\\\">\\n\\t\\t\\t<video autoplay controls src=\\\"/static/videos/\" + locale + \"/_pricing_\" + type + \".mp4\\\" />\\n\\t\\t</div>\\n\\t\\t<span class=\\\"vm-close-button\\\"></span>\\n\\t\";\n\tmodal.addEventListener(\"click\", hideVideoModal);\n\tmodal.children[0].addEventListener(\"click\", stopPropagation);\n\tdocument.body.appendChild(modal);\n}\n\n/**\n * Removes modal from DOM and clears it\n */\nfunction hideVideoModal() {\n\tmodal.remove();\n\tmodal = undefined;\n}\n\n/**\n * Cancels event bubbling (stops event propagation)\n * @param {Event} event event to cancel bubbling\n */\nfunction stopPropagation(event) {\n\tevent.stopPropagation();\n}\n"]}